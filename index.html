<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ditz Store - Layanan Apk prem</title>
    
    <!-- Impor Font dan Ikon -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@800&family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* CSS (Cascading Style Sheets) untuk Tampilan */

        /* 1. Variabel Warna & Reset Dasar */
        :root {
            --biru-muda: #00bfff;
            --biru-tua: #0077b6;
            --bg-color: #0d1117;
            --surface-color: #161b22;
            --text-color: #e0e0e0;
            --text-muted-color: #a0a0a0;
            --border-color: #30363d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.7;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background-image: 
                linear-gradient(rgba(13, 17, 23, 0.85), rgba(13, 17, 23, 0.98)),
                url('https://files.catbox.moe/orl0tx.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        /* 2. Utilitas & Kontainer */
        .container {
            max-width: 1200px;
            margin: auto;
            padding: 0 20px;
        }

        .btn {
            display: inline-block;
            background: linear-gradient(90deg, var(--biru-muda), var(--biru-tua));
            color: #ffffff;
            padding: 12px 28px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 700;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 191, 255, 0.2);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 191, 255, 0.4);
        }

        .btn:active {
            transform: translateY(-1px) scale(0.98);
            box-shadow: 0 2px 10px rgba(0, 191, 255, 0.3);
        }
        
        .btn-secondary {
            background: var(--surface-color);
            border: 1px solid var(--biru-tua);
            color: var(--biru-muda);
            box-shadow: none;
        }
        .btn-secondary:hover {
             background: rgba(0, 120, 182, 0.2);
             box-shadow: none;
        }

        .section-title {
            text-align: center;
            font-size: 2.8rem;
            margin-bottom: 50px;
            font-weight: 800;
        }

        .section-title span {
            background: linear-gradient(90deg, var(--biru-muda), #f0f0f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* 3. Header & Navigasi */
        header {
            background-color: rgba(22, 27, 34, 0.7);
            backdrop-filter: blur(12px);
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            text-decoration: none;
        }
        
        .logo-img {
            height: 45px;
            width: 45px;
            object-fit: cover;
            border-radius: 50%;
            border: 2px solid var(--biru-muda);
            margin-right: 15px;
            box-shadow: 0 0 10px rgba(0, 191, 255, 0.7);
            transition: box-shadow 0.3s ease;
        }
        
        .text {
            font-family: 'Exo 2', sans-serif;
            font-size: 1.8rem;
            font-weight: 800;
            color: #ffffff;
            line-height: 1;
            text-shadow: 0 0 8px rgba(0, 191, 255, 0.7), 0 0 3px var(--biru-tua);
            transition: text-shadow 0.3s ease;
        }
        
        .logo-container:hover .logo-img {
             box-shadow: 0 0 15px rgba(0, 191, 255, 1);
        }
        .logo-container:hover .logo-text {
             text-shadow: 0 0 12px rgba(0, 191, 255, 1), 0 0 5px var(--biru-tua);
        }

        .text span {
            color: var(--biru-muda);
        }

        nav a {
            color: var(--text-muted-color);
            text-decoration: none;
            margin: 0 15px;
            font-weight: 500;
            font-size: 1rem;
            padding: 8px 12px;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        nav a:hover {
            color: var(--text-color);
            background-color: var(--surface-color);
        }
        nav a.active {
            color: var(--biru-muda);
            font-weight: 700;
        }

        .header-actions {
            display: flex;
            align-items: center;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--text-color);
            margin-left: 20px;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -12px;
            background-color: var(--biru-muda);
            color: var(--bg-color);
            border-radius: 50%;
            width: 22px;
            height: 22px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.8rem;
            font-weight: 700;
        }

        /* 4. Konten Halaman (SPA-like) */
        main {
            padding-top: 80px;
        }
        
        .page {
            display: none;
            padding: 60px 0;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }
        
        @keyframes fadeIn { to { opacity: 1; } }

        .page.active {
            display: block;
        }

        /* 5. Styling Halaman Dashboard */
        #home-page .hero {
            text-align: center;
            padding: 80px 0;
        }
        #home-page .hero h1 {
            font-size: 4rem;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 1rem;
        }
        #home-page .hero p {
            font-size: 1.2rem;
            max-width: 650px;
            margin: 0 auto 2.5rem;
            color: var(--text-muted-color);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        .info-card {
            background-color: var(--surface-color);
            padding: 30px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease, border-color 0.3s ease;
        }
        .info-card:hover {
            transform: translateY(-5px);
            border-color: var(--biru-muda);
        }
        .info-card i {
            font-size: 2.5rem;
            color: var(--biru-muda);
            margin-bottom: 15px;
        }
        .info-card h3 {
            margin-bottom: 10px;
            font-size: 1.5rem;
        }
        .info-card p {
            color: var(--text-muted-color);
        }
        .info-card .btn {
            margin-top: 20px;
        }

        /* 6. Styling Halaman Produk */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .product-card {
            background-color: var(--surface-color);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 25px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
            border-color: var(--biru-muda);
        }

        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-info {
            padding: 20px;
        }
        
        .product-info h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
        }

        .product-price {
            font-size: 1.5rem;
            color: var(--biru-muda);
            font-weight: 700;
            margin-bottom: 15px;
        }
        
        /* 7. Keranjang (Cart) Sidebar */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -100%;
            width: 450px;
            height: 100%;
            background-color: var(--surface-color);
            box-shadow: -5px 0 25px rgba(0,0,0,0.5);
            z-index: 1100;
            transition: right 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: flex;
            flex-direction: column;
            border-left: 1px solid var(--border-color);
        }
        
        .cart-sidebar.active {
            right: 0;
        }
        
        .cart-header {
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
        }
        
        .cart-header h2 {
            color: var(--biru-muda);
        }

        .close-cart {
            font-size: 1.8rem;
            cursor: pointer;
            border: none;
            background: none;
            color: var(--text-muted-color);
            transition: color 0.2s;
        }
        .close-cart:hover {
            color: var(--text-color);
        }
        
        .cart-items {
            flex-grow: 1;
            overflow-y: auto;
            padding: 10px 20px;
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .cart-item-info h4 { font-size: 1rem; }
        .cart-item-info p { margin: 5px 0; color: var(--biru-muda); }

        .cart-item-actions button {
            background: #333;
            color: #fff;
            border: none; width: 28px; height: 28px;
            cursor: pointer; border-radius: 6px;
        }
        
        .cart-item img { width: 70px; height: 70px; object-fit: cover; border-radius: 8px; margin-right: 15px; }
        .cart-item-info { flex-grow: 1; }
        .cart-item-actions { display: flex; align-items: center; }
        .cart-item-actions span { margin: 0 12px; font-weight: 500; }
        
        .cart-footer {
            padding: 20px;
            border-top: 1px solid var(--border-color);
            background: var(--bg-color);
        }

        .cart-total { display: flex; justify-content: space-between; font-size: 1.3rem; font-weight: 700; margin-bottom: 20px; }
        
        .cart-checkout-buttons { 
            display: grid;
            gap: 10px; 
        }
        .cart-checkout-buttons .btn { 
            width: 100%; 
            text-align: center; 
            font-size: 1rem; 
        }
        
        .empty-cart-message { text-align: center; padding-top: 50px; color: var(--text-muted-color); }
        .empty-cart-message i { font-size: 3rem; margin-bottom: 1rem; }

        /* 8. Animasi Scroll */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .animate-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* 9. Footer */
        footer {
            text-align: center;
            padding: 2rem 0;
            background-color: var(--surface-color);
            margin-top: 60px;
            border-top: 1px solid var(--border-color);
        }

        /* 10. Responsif untuk Mobile */
        @media (max-width: 768px) {
            .section-title { font-size: 2.2rem; }
            #home-page .hero h1 { font-size: 2.8rem; }
            nav { display: none; }
            .cart-sidebar { width: 95%; }
            .logo-text { display: none; }
        }

        /* === PERUBAHAN: Menambahkan Styling untuk Loading Screen === */
        /* 11. Loading Screen */
        .loader-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.7s ease, visibility 0.7s ease;
        }

        .loader-wrapper.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loader-logo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--biru-muda);
            animation: pulse-logo 2s infinite ease-in-out;
        }
        
        .loader-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--border-color);
            border-top-color: var(--biru-muda);
            border-radius: 50%;
            margin-top: 25px;
            animation: spin 1s linear infinite;
        }

        @keyframes pulse-logo {
            0% {
                transform: scale(1);
                box-shadow: 0 0 15px rgba(0, 191, 255, 0.6);
            }
            50% {
                transform: scale(1.1);
                box-shadow: 0 0 25px rgba(0, 191, 255, 1);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 15px rgba(0, 191, 255, 0.6);
            }
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

    </style>
</head>
<body>

    <!-- === PERUBAHAN: Menambahkan Elemen HTML untuk Loading Screen === -->
    <div class="loader-wrapper">
        <img src="https://files.catbox.moe/orl0tx.jpg" alt="Loading..." class="loader-logo">
        <div class="loader-spinner"></div>
    </div>

    <header>
        <div class="container">
            <a href="#" class="logo-container nav-link" data-page="home-page">
                <img src="https://files.catbox.moe/orl0tx.jpg" alt="Ditz Store Logo" class="logo-img">
                <div class="text">Ditz<span>.</span>Store</div>
            </a>
            <div class="header-actions">
                <nav>
                    <a href="#" class="nav-link active" data-page="home-page">Dasboard</a>
                    <a href="#" class="nav-link" data-page="products-page">Produk</a>
                </nav>
                <div class="cart-icon" id="cart-icon">
                    <i class="fas fa-shopping-bag"></i>
                    <span class="cart-count" id="cart-count">0</span>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div id="home-page" class="page active">
            <section class="hero">
                <div class="container">
                    <h1 class="animate-on-scroll">Solusi Digital, <span>Cepat</span> & Terpercaya</h1>
                    <p class="animate-on-scroll">Selamat datang di Ditz Store. Jelajahi berbagai produk Apk prem berkualitas tinggi dengan proses super cepat dan layanan support yang responsif.</p>
                    <a href="#" class="btn nav-link animate-on-scroll" data-page="products-page">Mulai Belanja <i class="fas fa-arrow-right"></i></a>
                </div>
            </section>
            <section id="tentang" class="container">
                <h2 class="section-title animate-on-scroll">Tentang <span>Store</span></h2>
                <div class="info-card animate-on-scroll" style="max-width: 800px; margin: auto; text-align: center;">
                     <p>Ditz store didirikan atas dasar kebutuhan akan platform Apk Prem yang tidak hanya menjual produk, tetapi juga memberikan pengalaman. Kami fokus pada otomatisasi, desain modern, dan kemudahan akses. Setiap produk yang kami tawarkan telah melalui seleksi untuk memastikan kualitas terbaik bagi Anda.</p>
                </div>
            </section>
            <section id="support" class="container">
                <h2 class="section-title animate-on-scroll">Sistem <span>Support</span></h2>
                <div class="info-grid">
                    <div class="info-card animate-on-scroll">
                        <i class="fab fa-whatsapp"></i>
                        <h3>Support WhatsApp</h3>
                        <p>Butuh bantuan cepat? Tim support kami siap membantu Anda melalui WhatsApp.</p>
                        <a href="#" id="support-whatsapp" class="btn" style="margin-top:15px;">Hubungi Support</a>
                    </div>
                    <div class="info-card animate-on-scroll">
                        <i class="fab fa-telegram-plane"></i>
                        <h3>Support Telegram</h3>
                        <p>Alternatif kontak support yang nyaman dan cepat melalui aplikasi Telegram.</p>
                        <a href="#" id="support-telegram" class="btn" style="margin-top:15px;">Chat di Telegram</a>
                    </div>
                     <div class="info-card animate-on-scroll">
                        <i class="fas fa-book-open"></i>
                        <h3>Panduan & FAQ</h3>
                        <p>Temukan jawaban atas pertanyaan umum seputar produk dan cara pemesanan.</p>
                        <a href="#" class="btn btn-secondary" style="margin-top:15px;">Baca FAQ</a>
                    </div>
                </div>
            </section>
             <section id="info" class="container">
                <h2 class="section-title animate-on-scroll">Saluran & <span>Grup</span></h2>
                 <div class="info-grid">
                    <div class="info-card animate-on-scroll">
                        <i class="fas fa-bullhorn"></i>
                        <h3>Saluran Info</h3>
                        <p>Jangan lewatkan info produk baru & promo eksklusif. Gabung saluran WhatsApp kami.</p>
                        <a href="#" id="info-channel" target="_blank" class="btn btn-secondary">Gabung Saluran</a>
                    </div>
                    <div class="info-card animate-on-scroll">
                        <i class="fas fa-users"></i>
                        <h3>Grup Komunitas</h3>
                        <p>Diskusi, tanya jawab, dan berbagi pengalaman dengan pengguna lain di grup kami.</p>
                        <a href="#" id="info-group" target="_blank" class="btn btn-secondary">Masuk Grup</a>
                    </div>
                </div>
            </section>
        </div>

        <div id="products-page" class="page">
            <div class="container">
                <h2 class="section-title">Semua <span>Produk</span></h2>
                <div class="product-grid" id="product-list"></div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>Â© 2025 Ditz Store. Semua Hak Cipta Dilindungi</p>
        </div>
    </footer>

    <div class="cart-sidebar" id="cart-sidebar">
        <div class="cart-header">
            <h2>Keranjang Belanja</h2>
            <button class="close-cart" id="close-cart">Ã—</button>
        </div>
        <div class="cart-items" id="cart-items"></div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cart-total-price">Rp 0</span>
            </div>
            <div class="cart-checkout-buttons">
                 <button class="btn" id="checkout-whatsapp">
                    <i class="fab fa-whatsapp"></i> Order via WhatsApp
                </button>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // === PERUBAHAN: Logika loader dipindahkan ke 'DOMContentLoaded' untuk mempercepat ===
        // Sembunyikan loading screen segera setelah struktur HTML siap, tanpa menunggu semua gambar.
        const loader = document.querySelector('.loader-wrapper');
        if (loader) {
            loader.classList.add('hidden');
            // Hapus elemen dari DOM setelah animasi transisi selesai agar tidak mengganggu.
            setTimeout(() => {
                if (loader.parentNode) {
                    loader.parentNode.removeChild(loader);
                }
            }, 700); // Waktu ini harus cocok dengan durasi transisi di CSS (0.7s)
        }

        const config = {
            whatsappNumber: '6282156517421',
            telegramUsername: '@ditzofficial002',
            whatsappChannelLink: 'https://whatsapp.com/channel/0029VbBSXHR2ZjCoOcwKv20u',
            whatsappGroupLink: 'https://chat.whatsapp.com/J2otBdZQbwiIqpJaVLaOxa?mode=wwt'
        };

        const products = [
           { id: 1, name: 'AM PREMIUM 1 TAHUN', price: 5000, image: 'https://files.catbox.moe/hlnre7.jpg' },
            { id: 2, name: 'YOUTUBE PREMIUM', price: 5000, image: 'https://files.catbox.moe/ib3xav.jpg' },
            { id: 3, name: 'CAPCUT SHARING', price: 3000, image: 'https://files.catbox.moe/qn80wf.jpg' },
            { id: 4, name: 'CAPCUT PRIVATE', price: 5000, image: 'https://files.catbox.moe/qn80wf.jpg' },
            { id: 5, name: 'BSTATION SHARING 1 BLN', price: 5000, image: 'https://files.catbox.moe/cmvhyx.jpg' },
            { id: 6, name: 'BSTATION PRIVATE 1 BLN', price: 30000, image: 'https://files.catbox.moe/cmvhyx.jpg' },
            { id: 7, name: 'REMINI APK 1THN', price: 5000, image: 'https://files.catbox.moe/8tn7fb.jpg' },
            { id: 8, name: 'REMINI WEB 1THN', price: 6000, image: 'https://files.catbox.moe/8tn7fb.jpg' },
            { id: 9, name: 'CANVA PREMIUM MEM/OWN', price: 5000, image: 'https://files.catbox.moe/vzs0ff.jpg' },
            { id: 10, name: 'TELEGRAM PREMIUM', price: 60000, image: 'https://files.catbox.moe/jabmlp.jpg' },
            { id: 11, name: 'CHAT GPT SHARING', price: 5000, image: 'https://files.catbox.moe/m1z8rs.jpg' },
            { id: 12, name: 'CHAT GPT PRIVATE', price: 40000, image: 'https://files.catbox.moe/m1z8rs.jpg' },
            { id: 13, name: 'WINK PREMIUM 1 MINGGU', price: 6000, image: 'https://files.catbox.moe/vqk5oa.jpg' },
            { id: 14, name: 'PISCART SHARING', price: 2000, image: 'https://files.catbox.moe/vtzwdk.jpg' },
            { id: 15, name: 'PISCART PRIVATE', price: 5000, image: 'https://files.catbox.moe/vtzwdk.jpg' },
        ];
        
        const pageLinks = document.querySelectorAll('.nav-link');
        const pages = document.querySelectorAll('.page');
        const productList = document.getElementById('product-list');
        const cartIcon = document.getElementById('cart-icon');
        const cartSidebar = document.getElementById('cart-sidebar');
        const closeCartBtn = document.getElementById('close-cart');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartCount = document.getElementById('cart-count');
        const cartTotalPrice = document.getElementById('cart-total-price');
        const checkoutWaBtn = document.getElementById('checkout-whatsapp');

        let cart = [];

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });

        const initAnimations = (container) => {
            const elements = container.querySelectorAll('.animate-on-scroll');
            elements.forEach(el => observer.observe(el));
        };
        
        const renderProducts = () => {
            // Koreksi kecil pada properti gambar produk ID 7
            const correctedProducts = products.map(p => {
                if(p.id === 7) {
                    return { ...p, image: 'https://files.catbox.moe/orl0tx.jpg' };
                }
                return p;
            });

            productList.innerHTML = correctedProducts.map(product => `
                <div class="product-card animate-on-scroll">
                    <img src="${product.image}" alt="${product.name}" loading="lazy">
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <p class="product-price">${formatCurrency(product.price)}</p>
                        <button class="btn add-to-cart" data-id="${product.id}">
                            <i class="fas fa-cart-plus"></i> Tambah
                        </button>
                    </div>
                </div>
            `).join('');
            initAnimations(productList);
        };

        const setupLinks = () => {
            document.getElementById('support-whatsapp').href = `https://wa.me/${config.whatsappNumber}?text=Halo%20Ditz%20Store,%20saya%20butuh%20bantuan.`;
            document.getElementById('support-telegram').href = `https://t.me/${config.telegramUsername}`;
            document.getElementById('info-channel').href = config.whatsappChannelLink;
            document.getElementById('info-group').href = config.whatsappGroupLink;
        };

        const formatCurrency = (amount) => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(amount);

        const showPage = (pageId) => {
            pages.forEach(page => page.classList.remove('active'));
            const newPage = document.getElementById(pageId);
            if (newPage) {
                 newPage.classList.add('active');
                 initAnimations(newPage);
            }

            pageLinks.forEach(link => {
                link.classList.remove('active');
                if (link.dataset.page === pageId) {
                    link.classList.add('active');
                }
            });
            window.scrollTo(0, 0);
        };
        
        const renderCart = () => {
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<div class="empty-cart-message"><i class="fas fa-shopping-cart"></i><p>Keranjang Anda kosong.</p></div>';
            } else {
                cartItemsContainer.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${item.name}">
                        <div class="cart-item-info">
                            <h4>${item.name}</h4>
                            <p>${formatCurrency(item.price)}</p>
                        </div>
                        <div class="cart-item-actions">
                            <button class="quantity-change" data-id="${item.id}" data-change="-1">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-change" data-id="${item.id}" data-change="1">+</button>
                        </div>
                    </div>
                `).join('');
            }
            updateCartSummary();
        };

        const updateCartSummary = () => {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            cartCount.textContent = totalItems;
            cartTotalPrice.textContent = formatCurrency(totalPrice);
            cartCount.style.transform = 'scale(1.2)';
            setTimeout(() => { cartCount.style.transform = 'scale(1)'; }, 150);
        };

        const addToCart = (productId) => {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            renderCart();
            cartSidebar.classList.add('active');
        };

        const changeQuantity = (productId, change) => {
            const itemIndex = cart.findIndex(item => item.id === productId);
            if (itemIndex > -1) {
                cart[itemIndex].quantity += change;
                if (cart[itemIndex].quantity <= 0) {
                    cart.splice(itemIndex, 1);
                }
            }
            renderCart();
        };

        const generateOrderMessage = () => {
            if (cart.length === 0) return "Keranjang Anda kosong.";
            let message = `ðŸ‘‹Halo *Ditz Store*,\nSaya ingin memesan produk berikut:\n\n`;
            let totalPrice = 0;
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                message += `*â€¢ ${item.name}* (${item.quantity}x)\n   Subtotal: ${formatCurrency(itemTotal)}\n`;
                totalPrice += itemTotal;
            });
            message += `\n*Total Pesanan: ${formatCurrency(totalPrice)}*\n\nTerima kasih.`;
            return message;
        };

        pageLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                showPage(link.dataset.page);
            });
        });

        productList.addEventListener('click', (e) => {
            if (e.target.closest('.add-to-cart')) {
                const productId = parseInt(e.target.closest('.add-to-cart').dataset.id);
                addToCart(productId);
            }
        });
        
        cartIcon.addEventListener('click', () => cartSidebar.classList.add('active'));
        closeCartBtn.addEventListener('click', () => cartSidebar.classList.remove('active'));

        cartItemsContainer.addEventListener('click', (e) => {
            if (e.target.classList.contains('quantity-change')) {
                const productId = parseInt(e.target.dataset.id);
                const change = parseInt(e.target.dataset.change);
                changeQuantity(productId, change);
            }
        });

        checkoutWaBtn.addEventListener('click', () => {
            const message = generateOrderMessage();
            if (cart.length > 0) {
                window.open(`https://wa.me/${config.whatsappNumber}?text=${encodeURIComponent(message)}`, '_blank');
            } else { alert(message); }
        });

        // Inisialisasi aplikasi
        setupLinks();
        renderProducts();
        renderCart();
        initAnimations(document.querySelector('.page.active'));
    });
    </script>
</body>
</html>
